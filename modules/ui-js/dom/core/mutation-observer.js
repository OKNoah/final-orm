// Generated by CoffeeScript 1.10.0
var Map, MutationObserver;

Map = require('ui-js/polyfill/map');

module.exports = MutationObserver = (function() {
  function MutationObserver(root) {
    this.root = root;
    this.root.observe(this);
    this.mutations = new Map();
    this.has = false;
    return;
  }

  MutationObserver.prototype.initMutation = function(node) {
    var mutation;
    this.has = true;
    if (!this.mutations.has(node)) {
      mutation = node.createMutation();
      this.mutations.set(node, mutation);
      return mutation;
    }
    return this.mutations.get(node);
  };

  MutationObserver.prototype["yield"] = function() {
    var result;
    result = this.mutations;
    this.mutations = new Map();
    this.has = false;
    return result;
  };

  return MutationObserver;

})();

//# sourceMappingURL=mutation-observer.js.map
