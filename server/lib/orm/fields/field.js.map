{"version":3,"sources":["field.es6"],"names":[],"mappings":";;;;;;;;;;IAAqB,K;AAGpB,gBAAY,IAAZ,EAAoC;AAAA,MAAlB,QAAkB,yDAAP,KAAO;;AAAA;;AACnC,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,QAAL,GAAgB,QAAhB;AACA;;;;kCAGe,K,EAAO,Q,EAAU;AAChC,OAAI,QAAQ,KAAK,SAAL,CAAe,QAAf,CAAZ;AACA,WAAQ,KAAK,mBAAL,CAAyB,KAAzB,CAAR;AACA,QAAK,SAAL,CAAe,KAAf,EAAsB,KAAtB;AACA;;;kCAGe,I,EAAM,Q,EAAU;AAC/B,OAAI,KAAK,QAAT,EAAmB;AACnB,OAAI,QAAQ,KAAK,SAAL,CAAe,IAAf,CAAZ;AACA,WAAQ,KAAK,sBAAL,CAA4B,KAA5B,CAAR;AACA,QAAK,SAAL,CAAe,QAAf,EAAyB,KAAzB;AACA;;;2BAGQ,I,EAAM;AACd,SAAM,iCAAN;AACA;;;sCAGmB,K,EAAO;AAC1B,SAAM,4CAAN;AACA;;;yCAGsB,K,EAAO;AAC7B,SAAM,+CAAN;AACA;;;4BAGS,O,EAAS;AAAA;AAAA;AAAA;;AAAA;AAClB,yBAAiB,KAAK,IAAtB,8HAA4B;AAAA,SAAnB,IAAmB;;AAC3B,eAAU,QAAQ,IAAR,CAAV;AACA;AAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIlB,UAAO,OAAP;AACA;;;4BAGS,O,EAAS,K,EAAO;AACzB,OAAI,OAAO,KAAK,IAAL,CAAU,KAAV,EAAX;AACA,OAAI,WAAW,KAAK,GAAL,EAAf;;AAFyB;AAAA;AAAA;;AAAA;AAIzB,0BAAiB,IAAjB,mIAAuB;AAAA,SAAd,IAAc;;AACtB,SAAI,CAAC,QAAQ,IAAR,CAAL,EAAoB,QAAQ,IAAR,IAAgB,EAAhB;AACpB,eAAU,QAAQ,IAAR,CAAV;AACA;AAPwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASzB,UAAO,QAAQ,QAAR,IAAoB,KAA3B;AACA;;;;;;kBAzDmB,K","file":"field.js","sourcesContent":["export default class Field {\r\n\r\n\r\n\tconstructor(path, internal = false) {\r\n\t\tthis.path = path\r\n\t\tthis.internal = internal\r\n\t}\r\n\r\n\r\n\tdocumentToModel(model, document) {\r\n\t\tlet value = this.getByPath(document)\r\n\t\tvalue = this.convertToModelValue(value)\r\n\t\tthis.setByPath(model, value)\r\n\t}\r\n\r\n\r\n\tmodelToDocument(mode, document) {\r\n\t\tif (this.internal) return\r\n\t\tlet value = this.getByPath(mode)\r\n\t\tvalue = this.convertToDocumentValue(value)\r\n\t\tthis.setByPath(document, value)\r\n\t}\r\n\r\n\r\n\tvalidate(data) {\r\n\t\tthrow 'validate is just virtual method'\r\n\t}\r\n\r\n\r\n\tconvertToModelValue(value) {\r\n\t\tthrow 'convertToModelValue is just virtual method'\r\n\t}\r\n\r\n\r\n\tconvertToDocumentValue(value) {\r\n\t\tthrow 'convertToDocumentValue is just virtual method'\r\n\t}\r\n\r\n\r\n\tgetByPath(context) {\r\n\t\tfor (let prop of this.path) {\r\n\t\t\tcontext = context[prop]\r\n\t\t}\r\n\t\treturn context\r\n\t}\r\n\r\n\r\n\tsetByPath(context, value) {\r\n\t\tlet path = this.path.slice()\r\n\t\tlet lastProp = path.pop()\r\n\r\n\t\tfor (let prop of path) {\r\n\t\t\tif (!context[prop]) context[prop] = {}\r\n\t\t\tcontext = context[prop]\r\n\t\t}\r\n\r\n\t\treturn context[lastProp] = value\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n"]}