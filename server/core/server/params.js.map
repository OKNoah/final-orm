{"version":3,"sources":["params.es6"],"names":[],"mappings":";;;;;;;;;;IAAqB,M;AAGpB,mBAAqC;AAAA,MAAzB,MAAyB,yDAAhB,EAAgB;AAAA,MAAZ,UAAY;;AAAA;;AACpC,OAAK,UAAL,GAAkB,UAAlB;AACA,OAAK,MAAL,GAAc,MAAd;AACA;;;;sBAGG,I,EAAM,I,EAAM,O,EAAS;AACxB,OAAI,QAAQ,KAAK,MAAL,CAAY,IAAZ,CAAZ;AACA,QAAK,aAAL,CAAmB,IAAnB,EAAyB,KAAzB,EAAgC,IAAhC,EAAsC,OAAtC;AACA,UAAO,KAAP;AACA;;;wBAGK,O,EAAS;AACd,QAAK,UAAL,CAAgB,KAAhB,CAAsB,CAAtB,EAAyB,OAAzB;AACA;;;gCAGa,I,EAAM,K,EAAO,I,EAAM,O,EAAS;AACzC,WAAQ,IAAR;;AAEC,SAAM,MAAN;AAAc;AACb,UAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AAC9B,YAAK,KAAL,WAAmB,IAAnB;AACA;;AAED,UAAI,MAAM,QAAQ,GAAlB;AACA,UAAI,OAAO,IAAP,IAAe,MAAM,MAAN,GAAe,GAAlC,EAAuC;AACtC,YAAK,KAAL,iBAAyB,IAAzB,sCAA8D,GAA9D;AACA;;AAED,UAAI,MAAM,QAAQ,GAAlB;AACA,UAAI,OAAO,IAAP,IAAe,MAAM,MAAN,GAAe,GAAlC,EAAuC;AACtC,YAAK,KAAL,iBAAyB,IAAzB,sCAA8D,GAA9D;AACA;;AAED,UAAI,OAAO,QAAQ,IAAnB;AACA,UAAI,QAAQ,IAAR,IAAgB,CAAC,KAAK,IAAL,CAAU,KAAV,CAArB,EAAuC;AACtC,YAAK,KAAL,WAAmB,IAAnB;AACA;AAED;AAtBF;AAwBA;;;;;;kBA9CmB,M","file":"params.js","sourcesContent":["export default class Params {\r\n\r\n\r\n\tconstructor(params = {}, connection) {\r\n\t\tthis.connection = connection\r\n\t\tthis.params = params\r\n\t}\r\n\r\n\r\n\tget(name, type, options) {\r\n\t\tlet value = this.params[name]\r\n\t\tthis.validateValue(name, value, type, options)\r\n\t\treturn value\r\n\t}\r\n\r\n\r\n\terror(message) {\r\n\t\tthis.connection.error(2, message)\r\n\t}\r\n\r\n\r\n\tvalidateValue(name, value, type, options) {\r\n\t\tswitch (type) {\r\n\r\n\t\t\tcase  String: {\r\n\t\t\t\tif (typeof value !== 'string') {\r\n\t\t\t\t\tthis.error(`Поле ${name} должно быть строкой`)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet min = options.min\r\n\t\t\t\tif (min != null && value.length < min) {\r\n\t\t\t\t\tthis.error(`Длина поля ${name} должна быть больше или равна ${min}`)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet max = options.max\r\n\t\t\t\tif (max != null && value.length > max) {\r\n\t\t\t\t\tthis.error(`Длина поля ${name} должна быть меньше или равна ${max}`)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet test = options.test\r\n\t\t\t\tif (test != null && !test.test(value)) {\r\n\t\t\t\t\tthis.error(`Поле ${name} не корректно`)\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n"]}